{% load analyses_tags %}

{# ============================================================= #}
{# AUTOMATED ANALYSIS OVERVIEW                                     #}
{# Structure: Verdict → Confidence Scores → Evidence Table →       #}
{#            Method Details (AI Detection, OpenCV Manipulation)    #}
{# No evidence is shown more than once on this page.              #}
{# ============================================================= #}

<!-- ==================== SECTION 1: VERDICT ==================== -->
{% if analysis.report.confidence %}

{% if analysis.report.confidence.authenticity_score is not None %}
{# NEW: Compliance Audit - Authenticity Score is PRIMARY #}
<div class="row">
    <div class="col-12">
        <div class="alert {% if analysis.report.confidence.authenticity_score <= 40 %}alert-danger{% elif analysis.report.confidence.authenticity_score >= 60 %}alert-success{% else %}alert-warning{% endif %} p-4 mb-4">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h2 class="mb-3">
                        <i class="{% if analysis.report.confidence.authenticity_score >= 60 %}fa-solid fa-check-circle{% else %}fa-solid fa-exclamation-triangle{% endif %} me-2"></i>
                        {{ analysis.report.confidence.verdict_label }}
                    </h2>
                    <h4 class="mb-3 text-secondary">
                        Authenticity Score: 
                        <strong class="display-6 fw-bold {% if analysis.report.confidence.authenticity_score <= 40 %}text-danger{% elif analysis.report.confidence.authenticity_score >= 60 %}text-success{% else %}text-warning{% endif %}">
                            {{ analysis.report.confidence.authenticity_score }}/100
                        </strong>
                    </h4>
                    <p class="mt-3 mb-0">
                        {% if analysis.report.confidence.authenticity_score <= 20 %}
                            <strong>High confidence:</strong> This image is definitely fake (AI-generated or heavily manipulated).
                        {% elif analysis.report.confidence.authenticity_score <= 40 %}
                            <strong>Moderate confidence:</strong> This image is likely fake (AI-generated or manipulated).
                        {% elif analysis.report.confidence.authenticity_score >= 80 %}
                            <strong>High confidence:</strong> This image appears highly authentic.
                        {% elif analysis.report.confidence.authenticity_score >= 60 %}
                            <strong>Moderate confidence:</strong> This image appears likely authentic.
                        {% else %}
                            <strong>Uncertain:</strong> Mixed signals - score falls in borderline range (40-60).
                        {% endif %}
                    </p>
                    {% if analysis.report.confidence.detected_types %}
                    <p class="mt-1 mb-0 text-muted small">
                        <strong>Detected:</strong> {{ analysis.report.confidence.detected_types|join:", " }}
                    </p>
                    {% endif %}
                </div>
                <div class="col-md-4 text-center mt-3 mt-md-0">
                    <div class="position-relative d-inline-block" style="width: 140px; height: 140px;">
                        <svg width="140" height="140" style="transform: rotate(-90deg);">
                            <!-- Background circle -->
                            <circle cx="70" cy="70" r="60" stroke="#eee" stroke-width="12" fill="none"></circle>
                            <!-- Progress circle (circumference = 2πr = 377, so score/100 * 377) -->
                            {% widthratio analysis.report.confidence.authenticity_score 100 377 as dash_length %}
                            <circle cx="70" cy="70" r="60" 
                                    stroke="{% if analysis.report.confidence.authenticity_score <= 40 %}#dc3545{% elif analysis.report.confidence.authenticity_score >= 60 %}#198754{% else %}#ffc107{% endif %}" 
                                    stroke-width="12" 
                                    fill="none"
                                    stroke-dasharray="{{ dash_length }} 377"
                                    stroke-linecap="round">
                            </circle>
                        </svg>
                        <div class="position-absolute top-50 start-50 translate-middle text-center">
                            <div class="display-6 fw-bold lh-1">
                                {{ analysis.report.confidence.authenticity_score }}
                            </div>
                            <div class="small text-muted">out of 100</div>
                        </div>
                    </div>
                    <div class="mt-2 small text-muted">
                        0 = Definitely Fake<br>
                        100 = Definitely Real
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ================ SECTION 2: COMPONENT BREAKDOWN (From Auditor) ================ -->
<div class="row g-4 mb-4">
    <div class="col-md-6">
        <div class="card h-100 shadow-sm border-0 bg-light">
            <div class="card-header bg-transparent border-0 d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fa-solid fa-bolt me-2"></i> AI Generation Signals</h5>
                <span class="badge bg-secondary">Component</span>
            </div>
            <div class="card-body">
                <div class="progress mb-2" style="height: 25px;">
                    <div class="progress-bar progress-bar-striped {% if analysis.report.confidence.ai_generated_probability > 70 %}bg-danger{% elif analysis.report.confidence.ai_generated_probability > 50 %}bg-warning{% else %}bg-success{% endif %}" 
                         role="progressbar" 
                         style="width: {{ analysis.report.confidence.ai_generated_probability|floatformat:0 }}%;"
                         aria-valuenow="{{ analysis.report.confidence.ai_generated_probability|floatformat:0 }}" aria-valuemin="0" aria-valuemax="100">
                        {{ analysis.report.confidence.ai_generated_probability|floatformat:0 }}%
                    </div>
                </div>
                <p class="text-muted small mb-0">
                    Probability image was AI-generated based on metadata, dimensions, patterns, and ML models.
                    <br><strong>Note:</strong> Aggregated into authenticity score above.
                </p>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card h-100 shadow-sm border-0 bg-light">
            <div class="card-header bg-transparent border-0 d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fa-solid fa-magnifying-glass me-2"></i> Manipulation Signals</h5>
                <span class="badge bg-secondary">Component</span>
            </div>
            <div class="card-body">
                <div class="progress mb-2" style="height: 25px;">
                    <div class="progress-bar progress-bar-striped {% if analysis.report.confidence.confidence_score > 70 %}bg-danger{% elif analysis.report.confidence.confidence_score > 50 %}bg-warning{% else %}bg-success{% endif %}" 
                         role="progressbar" 
                         style="width: {{ analysis.report.confidence.confidence_score|floatformat:0 }}%;"
                         aria-valuenow="{{ analysis.report.confidence.confidence_score|floatformat:0 }}" aria-valuemin="0" aria-valuemax="100">
                        {{ analysis.report.confidence.confidence_score|floatformat:0 }}%
                    </div>
                </div>
                <p class="text-muted small mb-0">
                    Evidence of post-processing, editing, or manipulation based on noise, frequency, and forensic analysis.
                    <br><strong>Note:</strong> Aggregated into authenticity score above.
                </p>
            </div>
        </div>
    </div>
</div>

<div class="row mb-4">
    <div class="col-12">
        <div class="alert alert-info py-2">
            <i class="fa-solid fa-circle-info me-2"></i> 
            <strong>How to Read This:</strong>
            The <strong>Authenticity Score ({{ analysis.report.confidence.authenticity_score }}/100)</strong> above is the final verdict.
            These component scores show <em>why</em> - what types of evidence contributed to that score.
            Low scores (0-40) indicate fake/manipulated, high scores (60-100) indicate authentic, middle scores (41-59) are uncertain.
        </div>
    </div>
</div>

{% else %}
{# LEGACY: Original verdict display when no compliance audit #}
<div class="row mb-4">
    <div class="col-12">
        <div class="alert {% if analysis.report.confidence.verdict == 'ai_generated' %}alert-danger{% elif analysis.report.confidence.verdict == 'manipulated' %}alert-danger{% elif analysis.report.confidence.verdict_certainty == 'inconclusive' %}alert-warning{% else %}alert-success{% endif %} p-4">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h3 class="mb-2">
                        <i class="{% if analysis.report.confidence.verdict == 'authentic' and analysis.report.confidence.verdict_certainty != 'inconclusive' %}fa-solid fa-check-circle{% else %}fa-solid fa-exclamation-triangle{% endif %} me-2"></i>
                        {{ analysis.report.confidence.verdict_label }}
                    </h3>
                    <p class="mb-0">
                        {% if analysis.report.confidence.verdict == 'ai_generated' %}
                            This image was identified as AI-generated.
                            {% if analysis.report.confidence.verdict_certainty == 'high' %}
                                Deterministic evidence confirms this with high confidence.
                            {% else %}
                                Probabilistic analysis suggests AI generation.
                            {% endif %}
                        {% elif analysis.report.confidence.verdict == 'manipulated' %}
                            Multiple forensic methods indicate this image has been manipulated.
                        {% elif analysis.report.confidence.verdict_certainty == 'inconclusive' %}
                            Analysis results are mixed. Some forensic methods raised concerns but evidence is not conclusive.
                        {% elif analysis.report.confidence.verdict_certainty == 'low' %}
                            Some forensic methods raised minor concerns. Review the evidence below.
                        {% else %}
                            Forensic analysis found no significant signs of manipulation or AI generation.
                        {% endif %}
                    </p>
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <span class="display-4 fw-bold">
                        {{ analysis.report.confidence.verdict_confidence|floatformat:0 }}%
                    </span>
                    <br><small class="text-muted">certainty in verdict</small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Section 2: Legacy three-box layout -->
<div class="row g-4 mb-4">
    <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-header bg-white border-bottom-0"><i class="fa-solid fa-magnifying-glass me-2"></i> Forensic Suspicion</div>
            <div class="card-body">
                <div class="progress mb-2" style="height: 20px;">
                    <div class="progress-bar progress-bar-striped {% if analysis.report.confidence.confidence_score > 70 %}bg-danger{% elif analysis.report.confidence.confidence_score > 50 %}bg-warning{% else %}bg-success{% endif %}" 
                         role="progressbar" 
                         style="width: {{ analysis.report.confidence.confidence_score|floatformat:0 }}%;">
                        {{ analysis.report.confidence.confidence_score|floatformat:0 }}%
                    </div>
                </div>
                <p class="text-muted small mb-0">Evidence of manipulation.</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-header bg-white border-bottom-0"><i class="fa-solid fa-bolt me-2"></i> AI Generation Probability</div>
            <div class="card-body">
                <div class="progress mb-2" style="height: 20px;">
                    <div class="progress-bar progress-bar-striped {% if analysis.report.confidence.ai_generated_probability > 70 %}bg-danger{% elif analysis.report.confidence.ai_generated_probability > 50 %}bg-warning{% else %}bg-info{% endif %}" 
                         role="progressbar" 
                         style="width: {{ analysis.report.confidence.ai_generated_probability|floatformat:0 }}%;">
                        {{ analysis.report.confidence.ai_generated_probability|floatformat:0 }}%
                    </div>
                </div>
                <p class="text-muted small mb-0">AI probability.</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-header bg-white border-bottom-0"><i class="fa-solid fa-check-circle me-2"></i> Verdict Confidence</div>
            <div class="card-body">
                <div class="progress mb-2" style="height: 20px;">
                    <div class="progress-bar progress-bar-striped {% if analysis.report.confidence.verdict_confidence > 70 %}bg-success{% elif analysis.report.confidence.verdict_confidence > 40 %}bg-info{% else %}bg-warning{% endif %}" 
                         role="progressbar" 
                         style="width: {{ analysis.report.confidence.verdict_confidence|floatformat:0 }}%;">
                        {{ analysis.report.confidence.verdict_confidence|floatformat:0 }}%
                    </div>
                </div>
                <p class="text-muted small mb-0">Confidence.</p>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- ================ SECTION 3: EVIDENCE TABLE ================ -->
{% if analysis.report.confidence.indicators %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-light d-flex justify-content-between align-items-center">
                <span><i class="fa-solid fa-list-check me-2"></i> Key Indicators</span>
                <div class="small text-muted">
                    <span class="badge bg-info">Deterministic</span> = Rule-based |
                    <span class="badge bg-warning text-dark">AI/ML</span> = Probabilistic
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover table-striped align-middle small mb-2">
                        <thead>
                            <tr>
                                <th style="width: 30%;">Method</th>
                                <th style="width: 10%;">Type</th>
                                <th>Evidence</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for indicator in analysis.report.confidence.indicators %}
                            <tr>
                                <td><strong>{{ indicator.method }}</strong></td>
                                <td>
                                    {% if indicator.type == 'deterministic' %}
                                        <span class="badge bg-info">Deterministic</span>
                                    {% else %}
                                        <span class="badge bg-warning text-dark">AI/ML</span>
                                    {% endif %}
                                </td>
                                <td>{{ indicator.evidence }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <!-- Note removed as badges are self-explanatory -->
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- ================ SECTION 3b: AUDITOR FINDINGS ================ -->
{% if analysis.report.confidence.auditor_findings %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-light d-flex justify-content-between align-items-center">
                <span><i class="fa-solid fa-gavel me-2"></i> Compliance Audit Findings</span>
                <div class="small text-muted">
                    <span class="badge bg-success">Positive</span> = Supports Authenticity |
                    <span class="badge bg-danger">Negative</span> = Raises Concerns
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover table-striped align-middle small mb-2">
                        <thead>
                            <tr>
                                <th style="width: 12%;">Severity</th>
                                <th style="width: 25%;">Category</th>
                                <th style="width: 10%;">Impact</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for finding in analysis.report.confidence.auditor_findings %}
                            <tr>
                                <td>
                                    {% if finding.level == 'HIGH' %}
                                        <span class="badge bg-dark">HIGH</span>
                                    {% elif finding.level == 'MEDIUM' %}
                                        <span class="badge bg-secondary">MEDIUM</span>
                                    {% else %}
                                        <span class="badge bg-light text-dark">LOW</span>
                                    {% endif %}
                                </td>
                                <td><strong>{{ finding.category }}</strong></td>
                                <td>
                                    {% if finding.is_positive %}
                                        <span class="badge bg-success">Positive</span>
                                    {% else %}
                                        <span class="badge bg-danger">Negative</span>
                                    {% endif %}
                                </td>
                                <td>{{ finding.description }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <p class="text-muted small mb-0 mt-2">
                    <strong>Impact:</strong> HIGH = ±50 points, MEDIUM = ±15 points, LOW = ±5 points. 
                    Baseline score is 50/100.
                </p>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endif %}{# end confidence #}

<!-- ================ SECTION 4: METHOD DETAILS ================ -->
{# Each method is shown once with its full detail. #}

<!-- 4a: AI Generation Detection -->
{% if analysis.report.ai_detection %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-white d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fa-solid fa-bolt me-2"></i> AI Generation Detection</h5>
                <span>
                    {% if analysis.report.ai_detection.error %}
                        <span class="badge bg-dark">Unavailable</span>
                    {% elif not analysis.report.ai_detection.enabled %}
                        <span class="badge bg-secondary">Disabled</span>
                    {% else %}
                        <span class="badge bg-info text-dark">{{ analysis.report.ai_detection.methods_run|length }} method{{ analysis.report.ai_detection.methods_run|length|pluralize }}</span>
                    {% endif %}
                </span>
            </div>
            <div class="card-body">
                {% if analysis.report.ai_detection.error %}
                    <div class="alert alert-warning mb-0">
                        <strong>Not Available:</strong> {{ analysis.report.ai_detection.error }}
                        <br><small>Run <code>make ai-setup</code> to enable AI detection.</small>
                    </div>
                {% elif analysis.report.ai_detection.enabled %}
                    {% if analysis.report.ai_detection.detection_layers %}
                    <div class="table-responsive">
                        <table class="table table-hover table-bordered small mb-3">
                            <thead class="table-light">
                                <tr>
                                    <th style="width: 25%;">Detection Layer</th>
                                    <th style="width: 12%;">Status</th>
                                    <th style="width: 15%;">Confidence</th>
                                    <th>Detail</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for layer in analysis.report.ai_detection.detection_layers %}
                                <tr>
                                    <td><strong>{{ layer.method }}</strong></td>
                                    <td>
                                        {% if layer.verdict == 'Unknown' %}
                                            <span class="badge bg-secondary">N/A</span>
                                        {% elif layer.verdict == 'AI' %}
                                            <span class="badge bg-danger">FAIL</span>
                                        {% else %}
                                            <span class="badge bg-success">PASS</span>
                                        {% endif %}
                                    </td>
                                    <td>{{ layer.confidence|upper }}</td>
                                    <td class="text-muted">{{ layer.evidence|default:"No data available" }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    {% endif %}

                    {% if analysis.report.ai_detection.methods_run %}
                        <p class="text-muted small mb-0">
                            <strong>Methods:</strong> {{ analysis.report.ai_detection.methods_run|join:", " }}
                        </p>
                    {% endif %}
                {% else %}
                    <p class="text-muted mb-0">AI detection not configured. Run <code>make ai-setup</code> to install.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- 4b: OpenCV Manipulation Detection -->
{% if analysis.report.opencv_manipulation %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-white d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fa-solid fa-magnifying-glass me-2"></i> Image Manipulation Detection</h5>
                <span>
                    {% if analysis.report.opencv_manipulation.error %}
                        <span class="badge bg-dark">Unavailable</span>
                    {% elif not analysis.report.opencv_manipulation.enabled %}
                        <span class="badge bg-secondary">Disabled</span>
                    {% elif analysis.report.opencv_manipulation.is_suspicious %}
                        <span class="badge bg-warning text-dark">Suspicious</span>
                    {% else %}
                        <span class="badge bg-success">No Issues</span>
                    {% endif %}
                </span>
            </div>
            <div class="card-body">
                {% if analysis.report.opencv_manipulation.error %}
                    <div class="alert alert-warning mb-0">
                        <strong>Not Available:</strong> {{ analysis.report.opencv_manipulation.error }}
                        <br><small>Run <code>make opencv-start</code> to enable manipulation detection.</small>
                    </div>
                {% elif analysis.report.opencv_manipulation.enabled %}
                    <div class="table-responsive">
                        <table class="table table-hover table-bordered small mb-3">
                            <thead class="table-light">
                                <tr>
                                    <th style="width: 25%;">Method</th>
                                    <th style="width: 12%;">Status</th>
                                    <th style="width: 15%;">Confidence</th>
                                    <th>Detail</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if analysis.report.opencv_manipulation.manipulation_detection %}
                                <tr>
                                    <td><strong><i class="fa-solid fa-eye me-2"></i> Gaussian Blur</strong></td>
                                    <td>
                                        {% if analysis.report.opencv_manipulation.manipulation_detection.is_manipulated %}
                                            <span class="badge bg-warning text-dark">Detected</span>
                                        {% else %}
                                            <span class="badge bg-success">Clean</span>
                                        {% endif %}
                                    </td>
                                    <td>{{ analysis.report.opencv_manipulation.manipulation_detection.confidence|pct:1 }}%</td>
                                    <td class="text-muted">
                                        {{ analysis.report.opencv_manipulation.manipulation_detection.evidence }}
                                        <small>({{ analysis.report.opencv_manipulation.manipulation_detection.num_anomalies }} anomalies, {{ analysis.report.opencv_manipulation.manipulation_detection.anomaly_percentage|floatformat:1 }}% coverage)</small>
                                    </td>
                                </tr>
                                {% endif %}
                                {% if analysis.report.opencv_manipulation.noise_analysis %}
                                <tr>
                                    <td><strong><i class="fa-solid fa-chart-bar me-2"></i> Noise Consistency</strong></td>
                                    <td>
                                        {% if analysis.report.opencv_manipulation.noise_analysis.is_noise_inconsistent %}
                                            <span class="badge bg-warning text-dark">Inconsistent</span>
                                        {% else %}
                                            <span class="badge bg-success">Consistent</span>
                                        {% endif %}
                                    </td>
                                    <td>{{ analysis.report.opencv_manipulation.noise_analysis.noise_consistency|pct:1 }}%</td>
                                    <td class="text-muted">
                                        Overall noise: {{ analysis.report.opencv_manipulation.noise_analysis.overall_noise|floatformat:2 }},
                                        variation: {{ analysis.report.opencv_manipulation.noise_analysis.coefficient_variation|floatformat:3 }}
                                        {% if analysis.report.opencv_manipulation.noise_analysis.quadrant_variances %}
                                            <small>(Quadrants: {% for var in analysis.report.opencv_manipulation.noise_analysis.quadrant_variances %}Q{{ forloop.counter }}:{{ var|floatformat:1 }}{% if not forloop.last %}, {% endif %}{% endfor %})</small>
                                        {% endif %}
                                    </td>
                                </tr>
                                {% endif %}
                                {% if analysis.report.opencv_manipulation.jpeg_artifacts %}
                                <tr>
                                    <td><strong><i class="fa-solid fa-file-image me-2"></i> JPEG Artifacts</strong></td>
                                    <td>
                                        {% if analysis.report.opencv_manipulation.jpeg_artifacts.has_inconsistent_artifacts %}
                                            <span class="badge bg-warning text-dark">Inconsistent</span>
                                        {% else %}
                                            <span class="badge bg-success">Consistent</span>
                                        {% endif %}
                                    </td>
                                    <td>{{ analysis.report.opencv_manipulation.jpeg_artifacts.confidence|pct:1 }}%</td>
                                    <td class="text-muted">
                                        {{ analysis.report.opencv_manipulation.jpeg_artifacts.evidence }}
                                        <small>(compression variation: {{ analysis.report.opencv_manipulation.jpeg_artifacts.compression_variation|floatformat:3 }})</small>
                                    </td>
                                </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>

                    <div class="d-flex justify-content-between small text-muted">
                        <span>
                            <strong>Overall:</strong> {{ analysis.report.confidence.confidence_score|floatformat:1 }}% manipulation probability
                            — Auditor verdict based on {{ analysis.report.opencv_manipulation.methods|length }} forensic methods
                        </span>
                        <span>
                            <strong>Service:</strong> {{ analysis.report.opencv_manipulation.service }}
                        </span>
                    </div>
                {% else %}
                    <p class="text-muted mb-0">Manipulation detection not configured. Run <code>make opencv-start</code> to enable.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- ================ FALLBACK: NOTHING AVAILABLE ================ -->
{% if not analysis.report.ai_detection and not analysis.report.opencv_manipulation and not analysis.report.confidence %}
<div class="row">
    <div class="col-12">
        <div class="alert alert-info">
            <h4 class="alert-heading">No Automated Analysis Available</h4>
            <p>Neither AI detection nor manipulation detection are currently configured.</p>
            <hr>
            <p class="mb-0">
                <strong>To enable:</strong><br>
                &bull; AI Detection: <code>make ai-setup</code><br>
                &bull; Manipulation Detection: <code>make opencv-start</code>
            </p>
        </div>
    </div>
</div>
{% endif %}
